### 4. Spring（四）深入理解IoC

IoC 是 Spring容器的内核，AOP、声明式事务等功能都依赖于此功能

1. 解耦过程实例

   * 问题场景

     ![4.1](images\4.1.png)

   * 解耦过程

     ![4.2](images\4.2.png)

   * IoC解耦

     * 接口具体实现类的控制权从调用类移除，转交到第三方决定

       例如场景中：

       * 控制：选择刘建明角色扮演者的控制权
       * 反转：控制权从剧本中移除，转交到了导演手中

       ![4.3](images/4.3.png)

2. IoC注入

   * 构造函数注入

     通过调用类的构造函数，将接口实现通过构造函数变量传入

     ![4.4](images/4.4.png)

   * 属性注入

     （用到的时候才注入，比构造函数注入节约）

     ![4.5](images/4.5.png)

   * 接口注入

     （增加类的数量，和属性注入本质区别不大，所以不提倡）

     ![4.6](images/4.6.png)

   * Spring 配置示例

     ![4.7](images/4.7.png)

